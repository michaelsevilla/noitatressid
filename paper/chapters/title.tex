% Title Stuff
\title{Scalable, Global Namespaces with Programmable Storage}
\author{Michael A. Sevilla}
\degreeyear{2018}
\degreemonth{April}
\degree{DEFENSE}
\chair{Professor Carlos Maltzahn}
\committeememberone{Professor Scott Brandt}
\committeemembertwo{Professor Peter Alvaro}
\numberofmembers{2} %% (including chair) possible: 3, 4, 5, 6
\deanlineone{Tyrus Miller}
\deanlinetwo{Vice Provost and Dean of Graduate Studies}
\deanlinethree{}
\field{Computer Science}
\campus{Santa Cruz}

% Pre-Chapter Stuff
\begin{frontmatter}
	\maketitle\copyrightpage\tableofcontents\listoffigures\listoftables
	\begin{abstract}

Global file system namespaces are difficult to scale because of the overheads
of POSIX IO metadata management. The file system metadata IO created by today's
workloads subjects the underlying file system to small and frequent requests
that have inherent locality. As a result, metadata IO scales differently than
data IO.  Scalable file system metadata IO techniques exist and address many
facets of metadata management, including global semantics ({\it e.g.}, strong
consistency, durability) and hierarchical semantics ({\it e.g.}, path
traversal). But these techniques are integrated into `clean-slate' file
systems, which are difficult to manage, and `dirty-slate' file systems, which
are difficult to understand and evolve.  

This thesis makes global file system namespaces scalable by designing
domain-specific policies that shape metadata management techniques.  To
facilitate the systematic exploration of this design space, we build a
programmable file system with APIs that let developers of layers above the
file system express domain-specific knowledge in a storage-agnostic way. Policy
engines embedded in the file system use this knowledge to guide internal
mechanisms to make metadata management more scalable.  Using these frameworks,
we design scalable policies, inspired by the workload, for (1) subtree load
balancing, (2) relaxing subtree consistency and durability semantics, and (3)
subtree schemas and generators. Each framework has a corresponding prototype:
Mantle for programmable file system metadata load balancing, Cudele for
programmable consistency and durability, and Tintenfisch for file system
metadata generation. These new customizations make metadata management more
scalable using domain-specific knowledge but are also influenced by, and
directly compared against, approaches that were previously proposed by other
research groups.

Each system is implemented on CephFS, providing state-of-the-art file system
metadata management techniques to a leading open-source project. We have had
numerous collaborators and co-authors from the CephFS team and hope to build a
community around our programmable storage system.

	\end{abstract}
	\begin{dedication}
                \vspace*{\fill}
                \noindent This thesis is dedicated to my parents Ed and Barb; we made it.
                \begin{itemize}
                  \item[] To my older sister Kimmy because she paved the way...  {\huge\textbf{\textcolor{red}{I}}}te, Missa est.
                  \item[] To my younger sister Maggie because I look up to her...  {\huge\textbf{\textcolor{red}{O}}}remus.
                  \item[] To Kelley, for believing in and cherishing our  relationship... {\huge\textbf{\textcolor{red}{C}}}rescit eundo.
                \end{itemize}
                \vspace*{\fill}
		%\null\vfil
		%{\large
		%\begin{center}
			%To myself,\\\vspace{12pt}
			%Perry H. Disdainful,\\\vspace{12pt}
			%the only person worthy of my company.
		%\end{center}}
                %}
		%\vfil\null
	\end{dedication}
	\begin{acknowledgements}

I thank my advisor, Carlos Maltzahn, for his support and enthusiasm. His
academic acumen made me a better researcher but his capacity for understanding
my emotions and needs helped him shape me into a better person. I also thank
Scott Brandt and Ike Nassi for sparking my interest in systems and Peter Alvaro
for ushering me to the finish line.

I would also like to thank Shel Finkelstein and Jeff LeFevre for providing the
proper motivation and context for the work, especially in relation to database
theory. Thanks to Kleoni Ioannidou for helping me in a field that she was new
to herself. To Sam Fineberg and Bob Franks, I thank you for the real-world
tough love and attention to my pursuits outside of HPE.  I learned so much
about myself during those three years working for you both. To Brad Settlemyer,
I thank you for believing in Mantle and its impact, even when I did not.  To my
Red Hat colleagues, Sage Weil, Greg Farnum, John Spray, and Patrick Donnelly.
Thank you for co-authoring papers and reading terrible drafts. I enjoyed
working with you all.

Finally, to my peers in the Systems Research Lab, Noah Watkins and Ivo Jimenez:
thank you for helping me craft this thesis; but more importantly for your
companionship. I think we did magnficient work and convinced some people that
what we are working on matters.  I also thank Joe Buck, Dimitris Skourtis, Adam
Crume, Andrew Shewmaker, Jianshen Liu, Reza Nasirigerdeh, and Takeshi ``Ken"
Iizawa for their helpful suggestions and feedback.

This work was supported by the Center for Research in Open-Source Software
(\href{www.cross.soe.ucsc.edu}{CROSS}), the Department of Energy, the National
Science Foundation, and the Los Alamos National Laboratory Los Alamos National
Laboratory is operated by Los Alamos National Security, LLC, for the National
Nuclear Security Administration of U.S. Department of Energy (Contract
DEAC52-06NA25396).

	\end{acknowledgements}
\end{frontmatter}
